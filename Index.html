<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>La Aventura de Darek</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Comic Sans MS', cursive, sans-serif;
            background: linear-gradient(135deg, #1e3c72, #7e22ce);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .container {
            background: white;
            border-radius: 30px;
            max-width: 900px;
            width: 100%;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.4);
        }
        
        h1 { text-align: center; color: #dc2626; font-size: 2.5em; margin-bottom: 10px; }
        h2 { text-align: center; color: #15803d; font-size: 1.4em; margin-bottom: 30px; }
        
        .page-num { text-align: center; color: #7c3aed; font-size: 1.2em; margin-bottom: 20px; font-weight: bold; }
        
        .scene {
            width: 100%;
            height: 350px;
            border-radius: 20px;
            margin: 20px 0;
            position: relative;
            overflow: hidden;
            border: 5px solid #fbbf24;
        }
        
        .scene-bg { width: 100%; height: 100%; position: absolute; top: 0; left: 0; }
        
        .emoji {
            position: absolute;
            user-select: none;
        }
        
        .float { animation: float 3s ease-in-out infinite; }
        @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-15px); } }
        
        .sparkle { animation: sparkle 2s ease-in-out infinite; }
        @keyframes sparkle { 0%, 100% { opacity: 0.6; } 50% { opacity: 1; } }
        
        .text {
            font-size: 1.5em;
            line-height: 1.8;
            color: #1f2937;
            margin: 30px 0;
            text-align: center;
        }
        
        .highlight { color: #dc2626; font-weight: bold; }
        .magic { color: #7c3aed; font-weight: bold; }
        
        button {
            padding: 20px 40px;
            font-size: 1.3em;
            font-weight: bold;
            border: none;
            border-radius: 15px;
            cursor: pointer;
            font-family: 'Comic Sans MS', cursive;
            margin: 10px;
        }
        
        .nav-btns { display: flex; justify-content: center; gap: 15px; margin-top: 30px; }
        .btn-prev { background: linear-gradient(135deg, #0284c7, #0ea5e9); color: white; }
        .btn-next { background: linear-gradient(135deg, #dc2626, #ef4444); color: white; }
        .btn-choice { background: linear-gradient(135deg, #f59e0b, #f97316); color: white; width: 100%; margin: 10px 0; }
        
        button:hover { transform: scale(1.05); }
        button:disabled { opacity: 0.5; cursor: not-allowed; }
        
        .audio-btn {
            background: linear-gradient(135deg, #15803d, #16a34a);
            color: white;
            display: block;
            margin: 20px auto;
        }
        
        .game {
            width: 100%;
            height: 450px;
            background: linear-gradient(180deg, #1e3a8a, #3b82f6);
            border-radius: 20px;
            margin: 20px 0;
            position: relative;
            border: 5px solid #fbbf24;
        }
        
        .game-counter {
            position: absolute;
            top: 20px;
            right: 20px;
            background: white;
            padding: 10px 20px;
            border-radius: 50px;
            font-size: 1.3em;
            font-weight: bold;
            color: #dc2626;
            z-index: 10;
        }
        
        .bell {
            position: absolute;
            font-size: 45px;
            cursor: pointer;
        }
        
        .bell:hover { transform: scale(1.2); }
        .bell.found { pointer-events: none; }
        
        .circle {
            position: absolute;
            width: 60px;
            height: 60px;
            border: 4px solid #dc2626;
            border-radius: 50%;
            pointer-events: none;
        }
        
        .puzzle {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            max-width: 500px;
            margin: 20px auto;
        }
        
        .piece {
            aspect-ratio: 1;
            background: linear-gradient(135deg, #dc2626, #ef4444);
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 70px;
            cursor: pointer;
            position: relative;
            border: 4px solid transparent;
        }
        
        .piece:hover { transform: scale(1.05); }
        .piece.ok { border-color: #15803d; }
        
        .num {
            position: absolute;
            top: 10px;
            left: 10px;
            background: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 25px;
            font-weight: bold;
        }
        
        .msg {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 30px 50px;
            border-radius: 20px;
            font-size: 2em;
            font-weight: bold;
            color: #15803d;
            z-index: 20;
        }
        
        .carol {
            background: linear-gradient(135deg, #dc2626, #16a34a);
            border-radius: 20px;
            padding: 30px;
            margin: 30px 0;
            border: 5px solid #fbbf24;
        }
        
        .carol h3 {
            text-align: center;
            color: white;
            font-size: 1.8em;
            margin-bottom: 20px;
        }
        
        .carol-text {
            background: white;
            border-radius: 15px;
            padding: 20px;
            font-size: 1.2em;
            line-height: 1.6;
            text-align: center;
            margin-bottom: 20px;
        }
        
        .carol-text p { margin: 15px 0; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ„ La Aventura MÃ¡gica ğŸ„</h1>
        <h2>de <span class="highlight">Darek</span> y <span class="highlight">Conan</span></h2>
        
        <button class="audio-btn" onclick="speak()" id="audio">ğŸ”Š Escuchar</button>
        
        <div class="page-num" id="pageNum"></div>
        <div id="content"></div>
    </div>
    
    <script>
        let page = 1;
        let path = null;
        let bellCount = 0;
        let puzzleCount = 0;
        
        const pages = [
            null,
            {t:'Era Nochebuena y <span class="highlight">Darek</span> miraba por la ventana con su perrito <span class="highlight">Conan</span>. Las estrellas brillaban en el cielo oscuro.',bg:'#0f172a',e:[{i:'ğŸ ',x:40,y:30,s:120},{i:'ğŸ‘¦',x:30,y:45,s:80,f:1},{i:'ğŸ•',x:55,y:55,s:60,f:1},{i:'ğŸŒ™',x:70,y:10,s:60,p:1},{i:'â­',x:20,y:15,s:40,p:1}]},
            {t:'<span class="highlight">Darek</span> pensaba en todos sus amigos del cole nuevo y en la magia de la Navidad. Â¡QuÃ© emocionante!',bg:'linear-gradient(135deg,#a855f7,#ec4899,#f59e0b)',e:[{i:'ğŸ„',x:30,y:40,s:100},{i:'ğŸ‘¦',x:60,y:50,s:80,f:1},{i:'ğŸ',x:25,y:70,s:50},{i:'ğŸ’«',x:60,y:15,s:50,p:1}]},
            {t:'De repente, <span class="highlight">Conan</span> comenzÃ³ a ladrar: "Â¡Guau, guau!" Algo <span class="magic">mÃ¡gico</span> estaba pasando...',bg:'linear-gradient(135deg,#a855f7,#ec4899,#f59e0b)',e:[{i:'ğŸ•',x:40,y:50,s:90,f:1},{i:'ğŸ‘¦',x:60,y:50,s:80,f:1},{i:'âœ¨',x:30,y:15,s:50,p:1},{i:'âœ¨',x:70,y:20,s:45,p:1}]},
            {t:'Â¡Los coches Hot Wheels de <span class="highlight">Darek</span> empezaron a <span class="magic">brillar</span> con luz dorada! Nunca habÃ­a visto algo asÃ­.',bg:'linear-gradient(135deg,#a855f7,#ec4899,#f59e0b)',e:[{i:'ğŸš—',x:45,y:50,s:100,f:1},{i:'ğŸ‘¦',x:25,y:55,s:70,f:1},{i:'âœ¨',x:25,y:20,s:45,p:1},{i:'ğŸŒŸ',x:30,y:65,s:40,p:1}]},
            {t:'Un cochecito rojo volÃ³ hacia <span class="highlight">Darek</span> y una voz suave le dijo: "Â¡Sube! Hay una <span class="magic">misiÃ³n especial</span> para ti esta Navidad."',bg:'#0f172a',e:[{i:'ğŸï¸',x:40,y:45,s:100,f:1},{i:'ğŸ‘¦',x:30,y:48,s:60,f:1},{i:'ğŸ•',x:50,y:52,s:50,f:1},{i:'â˜ï¸',x:15,y:20,s:60},{i:'â­',x:50,y:10,s:35,p:1}]},
            {t:'<span class="highlight">Darek</span> y <span class="highlight">Conan</span> subieron al coche mÃ¡gico. Â¡Comenzaron a volar por el cielo! Las nubes hacÃ­an cosquillas en sus caras.',bg:'linear-gradient(180deg,#fef3c7,#fde68a,#fcd34d)',e:[{i:'ğŸï¸',x:45,y:45,s:90,f:1},{i:'ğŸ‘¦',x:40,y:48,s:55,f:1},{i:'ğŸ•',x:52,y:52,s:45,f:1},{i:'â˜ï¸',x:20,y:25,s:70},{i:'â˜ï¸',x:65,y:35,s:65},{i:'ğŸŒˆ',x:50,y:15,s:80}]},
            {t:'Llegaron al Polo Norte y vieron algo triste. PapÃ¡ Noel estaba preocupado. "Â¡Oh no! Se han <span class="magic">perdido</span> todos los cascabeles mÃ¡gicos. Sin ellos, los renos no pueden volar."<br><br>Â¿QuÃ© harÃ¡ <span class="highlight">Darek</span>?',bg:'linear-gradient(180deg,#e0f2fe,#bae6fd,#7dd3fc)',e:[{i:'ğŸ…',x:45,y:45,s:100,f:1},{i:'ğŸ‘¦',x:25,y:50,s:70,f:1},{i:'ğŸ•',x:65,y:55,s:60,f:1},{i:'ğŸ”ï¸',x:20,y:60,s:90},{i:'â„ï¸',x:25,y:15,s:40,p:1}],c:1}
        ];
        
        const pathA = [
            null,null,null,null,null,null,null,null,
            {g:'bells',t:'Â¡Ayuda a <span class="highlight">Darek</span> a encontrar los 5 cascabeles escondidos en el pueblo de PapÃ¡ Noel! <span class="magic">Toca cada cascabel</span> cuando lo encuentres.'},
            {t:'"Â¡Lo lograste!" dijo un osito polar. "Â¡Encontraste todos los cascabeles! Ahora brillan con <span class="magic">magia especial</span>."',bg:'linear-gradient(180deg,#e0f2fe,#bae6fd,#7dd3fc)',e:[{i:'ğŸ»â€â„ï¸',x:50,y:50,s:100,f:1},{i:'ğŸ‘¦',x:25,y:55,s:70,f:1},{i:'ğŸ•',x:70,y:60,s:60,f:1},{i:'ğŸ””',x:60,y:35,s:50,p:1}]},
            {t:'<span class="highlight">Darek</span> recogiÃ³ los cascabeles con cuidado. Cada uno hacÃ­a un sonido diferente: "Â¡TilÃ­n, tolÃ³n, talÃ¡n!"',bg:'linear-gradient(180deg,#e0f2fe,#bae6fd,#7dd3fc)',e:[{i:'ğŸ‘¦',x:30,y:50,s:80,f:1},{i:'ğŸ•',x:65,y:55,s:65,f:1},{i:'ğŸ”ï¸',x:50,y:60,s:120},{i:'âœ¨',x:40,y:30,s:40,p:1},{i:'ğŸ””',x:48,y:45,s:45,p:1}]},
            {t:'Los cascabeles comenzaron a <span class="magic">brillar</span> mÃ¡s y mÃ¡s. Â¡La magia de <span class="highlight">Darek</span> los habÃ­a despertado!',bg:'linear-gradient(135deg,#a855f7,#ec4899,#f59e0b)',e:[{i:'ğŸ‘¦',x:45,y:65,s:80,f:1},{i:'ğŸ””',x:45,y:35,s:80,p:1},{i:'ğŸ’«',x:30,y:20,s:45,p:1},{i:'ğŸ¶',x:35,y:55,s:50}]},
            {t:'Corrieron con PapÃ¡ Noel. Los renos recibieron sus cascabeles y comenzaron a <span class="magic">brillar</span> con magia.',bg:'linear-gradient(180deg,#dc2626,#ef4444,#f87171)',e:[{i:'ğŸ¦Œ',x:50,y:30,s:90,f:1},{i:'ğŸ‘¦',x:30,y:65,s:70,f:1},{i:'ğŸ•',x:60,y:70,s:60,f:1},{i:'ğŸ ',x:45,y:55,s:110},{i:'âœ¨',x:30,y:20,s:40,p:1},{i:'ğŸ””',x:25,y:35,s:45,p:1}]},
            {t:'"Â¡Gracias, <span class="highlight">Darek</span>!" dijo PapÃ¡ Noel con una gran sonrisa. "Â¡Has salvado la Navidad! Eres muy <span class="magic">valiente</span>."',bg:'linear-gradient(180deg,#dc2626,#ef4444,#f87171)',e:[{i:'ğŸ…',x:35,y:40,s:100,f:1},{i:'ğŸ‘¦',x:60,y:50,s:75,f:1},{i:'ğŸ•',x:20,y:55,s:60,f:1},{i:'ğŸ ',x:60,y:55,s:100},{i:'ğŸ',x:25,y:70,s:50},{i:'â­',x:50,y:15,s:50,p:1}]},
            {t:'PapÃ¡ Noel le regalÃ³ a <span class="highlight">Darek</span> un Hot Wheels especial que <span class="magic">brillaba</span> en la oscuridad. "Este coche es mÃ¡gico, como tÃº."',bg:'#0f172a',e:[{i:'ğŸï¸',x:40,y:55,s:100,f:1},{i:'ğŸ‘¦',x:35,y:58,s:70,f:1},{i:'ğŸ…',x:60,y:60,s:80,f:1},{i:'â­',x:25,y:15,s:40,p:1},{i:'ğŸŒŸ',x:45,y:40,s:60,p:1}]},
            {t:'<span class="highlight">Darek</span> y <span class="highlight">Conan</span> volvieron a casa. HabÃ­a sido la aventura mÃ¡s <span class="magic">emocionante</span> de su vida. Â¡La Navidad es <span class="magic">mÃ¡gica</span> de verdad!<br><br><span class="highlight">ğŸ„ FIN ğŸ„</span>',bg:'linear-gradient(135deg,#a855f7,#ec4899,#f59e0b)',e:[{i:'ğŸ‘¦',x:40,y:55,s:80,f:1},{i:'ğŸ•',x:55,y:60,s:65,f:1},{i:'ğŸ ',x:45,y:45,s:120},{i:'â¤ï¸',x:35,y:25,s:50,p:1},{i:'âœ¨',x:50,y:15,s:50,p:1},{i:'ğŸ„',x:20,y:65,s:60},{i:'ğŸ„',x:75,y:70,s:55}],carol:1}
        ];
        
        const pathB = [
            null,null,null,null,null,null,null,null,
            {g:'puzzle',t:'Â¡Ayuda a <span class="highlight">Darek</span> a completar el puzzle del cascabel! <span class="magic">Toca cada pieza</span> en orden: 1, 2, 3, 4.'},
            {t:'"Â¡IncreÃ­ble!" dijeron los duendes. "Â¡Completaste el cascabel mÃ¡gico! Ahora <span class="magic">brilla</span> con tu magia."',bg:'linear-gradient(180deg,#e0f2fe,#bae6fd,#7dd3fc)',e:[{i:'ğŸ»â€â„ï¸',x:50,y:50,s:100,f:1},{i:'ğŸ‘¦',x:25,y:55,s:70,f:1},{i:'ğŸ•',x:70,y:60,s:60,f:1},{i:'ğŸ””',x:60,y:35,s:50,p:1}]},
            {t:'<span class="highlight">Darek</span> pintÃ³ mÃ¡s cascabeles de colores <span class="magic">brillantes</span>: rojo, azul, verde y dorado. Â¡Todos hermosos!',bg:'linear-gradient(180deg,#e0f2fe,#bae6fd,#7dd3fc)',e:[{i:'ğŸ‘¦',x:30,y:50,s:80,f:1},{i:'ğŸ•',x:65,y:55,s:65,f:1},{i:'ğŸ”ï¸',x:50,y:60,s:120},{i:'âœ¨',x:40,y:30,s:40,p:1},{i:'ğŸ””',x:48,y:45,s:45,p:1}]},
            {t:'Cuando terminÃ³, algo <span class="magic">mÃ¡gico</span> pasÃ³. Los cascabeles comenzaron a brillar y hacer mÃºsica: "Â¡TilÃ­n, tilÃ­n, tilÃ­n!"',bg:'linear-gradient(135deg,#a855f7,#ec4899,#f59e0b)',e:[{i:'ğŸ‘¦',x:45,y:65,s:80,f:1},{i:'ğŸ””',x:45,y:35,s:80,p:1},{i:'ğŸ’«',x:30,y:20,s:45,p:1},{i:'ğŸ¶',x:35,y:55,s:50}]},
            {t:'Los renos recibieron los cascabeles nuevos. Â¡Empezaron a <span class="magic">volar</span> mÃ¡s alto que nunca! Los cascabeles de <span class="highlight">Darek</span> eran especiales.',bg:'linear-gradient(180deg,#dc2626,#ef4444,#f87171)',e:[{i:'ğŸ¦Œ',x:50,y:30,s:90,f:1},{i:'ğŸ‘¦',x:30,y:65,s:70,f:1},{i:'ğŸ•',x:60,y:70,s:60,f:1},{i:'ğŸ ',x:45,y:55,s:110},{i:'âœ¨',x:30,y:20,s:40,p:1},{i:'ğŸ””',x:25,y:35,s:45,p:1}]},
            {t:'"Â¡Eres un <span class="magic">artista</span> increÃ­ble, <span class="highlight">Darek</span>!" dijo PapÃ¡ Noel. "Â¡Has salvado la Navidad con tu creatividad!"',bg:'linear-gradient(180deg,#dc2626,#ef4444,#f87171)',e:[{i:'ğŸ…',x:35,y:40,s:100,f:1},{i:'ğŸ‘¦',x:60,y:50,s:75,f:1},{i:'ğŸ•',x:20,y:55,s:60,f:1},{i:'ğŸ ',x:60,y:55,s:100},{i:'ğŸ',x:25,y:70,s:50},{i:'â­',x:50,y:15,s:50,p:1}]},
            {t:'PapÃ¡ Noel le regalÃ³ un Hot Wheels especial que cambiaba de color. "Este coche es tan <span class="magic">especial</span> como tÃº."',bg:'#0f172a',e:[{i:'ğŸï¸',x:40,y:55,s:100,f:1},{i:'ğŸ‘¦',x:35,y:58,s:70,f:1},{i:'ğŸ…',x:60,y:60,s:80,f:1},{i:'â­',x:25,y:15,s:40,p:1},{i:'ğŸŒŸ',x:45,y:40,s:60,p:1}]},
            {t:'<span class="highlight">Darek</span> y <span class="highlight">Conan</span> volvieron a casa. HabÃ­a sido la aventura mÃ¡s <span class="magic">emocionante</span> de su vida. Â¡La Navidad es <span class="magic">mÃ¡gica</span> de verdad!<br><br><span class="highlight">ğŸ„ FIN ğŸ„</span>',bg:'linear-gradient(135deg,#a855f7,#ec4899,#f59e0b)',e:[{i:'ğŸ‘¦',x:40,y:55,s:80,f:1},{i:'ğŸ•',x:55,y:60,s:65,f:1},{i:'ğŸ ',x:45,y:45,s:120},{i:'â¤ï¸',x:35,y:25,s:50,p:1},{i:'âœ¨',x:50,y:15,s:50,p:1},{i:'ğŸ„',x:20,y:65,s:60},{i:'ğŸ„',x:75,y:70,s:55}],carol:1}
        ];
        
        function getData() {
            if (page <= 7) return pages[page];
            return path === 'A' ? pathA[page] : pathB[page];
        }
        
        function show() {
            const d = getData();
            let html = '';
            
            if (d.g === 'bells') {
                html = '<div class="text">' + d.t + '</div>' + makeBellGame();
            } else if (d.g === 'puzzle') {
                html = '<div class="text">' + d.t + '</div>' + makePuzzleGame();
            } else {
                html = makeScene(d) + '<div class="text">' + d.t + '</div>';
                if (d.carol) html += makeCarol();
                if (d.c) {
                    html += '<button class="btn-choice" onclick="pickA()">ğŸ” Buscar los cascabeles perdidos</button>';
                    html += '<button class="btn-choice" onclick="pickB()">ğŸ¨ Hacer cascabeles nuevos</button>';
                } else {
                    html += '<div class="nav-btns">';
                    html += '<button class="btn-prev" onclick="prev()"' + (page===1?' disabled':'') + '>â¬…ï¸ AtrÃ¡s</button>';
                    html += '<button class="btn-next" onclick="next()"' + (page===15?' disabled':'') + '>' + (page===15?'ğŸ”„ Reiniciar':'Siguiente â¡ï¸') + '</button>';
                    html += '</div>';
                }
            }
            
            document.getElementById('content').innerHTML = html;
            document.getElementById('pageNum').textContent = 'ğŸ“– PÃ¡gina ' + page + ' de 15';
        }
        
        function makeScene(d) {
            let h = '<div class="scene"><div class="scene-bg" style="background:' + d.bg + '"></div>';
            if (d.e) {
                d.e.forEach(x => {
                    const c = (x.f?'float ':'') + (x.p?'sparkle ':'') + 'emoji';
                    h += '<div class="' + c + '" style="left:' + x.x + '%;top:' + x.y + '%;font-size:' + x.s + 'px">' + x.i + '</div>';
                });
            }
            return h + '</div>';
        }
        
        function makeBellGame() {
            const pos = [{x:10,y:15},{x:75,y:25},{x:20,y:45},{x:70,y:60},{x:40,y:75}];
            const dec = [{i:'ğŸ ',x:40,y:20},{i:'ğŸ ',x:50,y:50},{i:'ğŸ„',x:25,y:30},{i:'ğŸ„',x:15,y:65},{i:'ğŸ„',x:80,y:40},{i:'ğŸ§',x:60,y:70},{i:'ğŸ§',x:60,y:35},{i:'â­',x:50,y:10},{i:'ğŸ’¡',x:45,y:25},{i:'ğŸ’¡',x:35,y:55},{i:'â„ï¸',x:85,y:15},{i:'â„ï¸',x:25,y:80},{i:'ğŸ',x:70,y:85},{i:'ğŸ',x:5,y:40}];
            
            let h = '<div class="game"><div class="game-counter" id="bc">ğŸ”” 0/5</div>';
            dec.forEach(x => h += '<div style="position:absolute;left:'+x.x+'%;top:'+x.y+'%;font-size:50px">'+x.i+'</div>');
            pos.forEach((x,i) => h += '<div class="bell" id="b'+i+'" style="left:'+x.x+'%;top:'+x.y+'%" onclick="clickBell('+i+')">ğŸ””</div>');
            return h + '</div>';
        }
        
        function clickBell(i) {
            const b = document.getElementById('b' + i);
            if (b.classList.contains('found')) return;
            
            b.classList.add('found');
            bellCount++;
            
            const c = document.createElement('div');
            c.className = 'circle';
            c.style.left = b.style.left;
            c.style.top = b.style.top;
            c.style.transform = 'translate(-50%,-50%)';
            b.parentElement.appendChild(c);
            
            document.getElementById('bc').textContent = 'ğŸ”” ' + bellCount + '/5';
            
            if (bellCount === 5) {
                setTimeout(() => {
                    const m = document.createElement('div');
                    m.className = 'msg';
                    m.textContent = 'ğŸ‰ Â¡Los encontraste! ğŸ‰';
                    b.parentElement.appendChild(m);
                    setTimeout(() => next(), 2000);
                }, 500);
            }
        }
        
        function makePuzzleGame() {
            const pcs = [{id:1,e:'ğŸ””'},{id:2,e:'â­'},{id:3,e:'âœ¨'},{id:4,e:'ğŸµ'}];
            let h = '<div class="text" style="font-size:1.3em">Toca en orden: 1ï¸âƒ£ 2ï¸âƒ£ 3ï¸âƒ£ 4ï¸âƒ£</div><div class="puzzle">';
            pcs.forEach(p => h += '<div class="piece" id="p'+p.id+'" onclick="clickPuzzle('+p.id+')"><div class="num">'+p.id+'</div>'+p.e+'</div>');
            return h + '</div>';
        }
        
        function clickPuzzle(i) {
            const p = document.getElementById('p' + i);
            if (p.classList.contains('ok')) return;
            
            if (i === puzzleCount + 1) {
                p.classList.add('o
