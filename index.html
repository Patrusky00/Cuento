<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>La Aventura Mágica de Darek y Conan</title>
  <meta name="description" content="Cuento interactivo con voz, escenas animadas tipo película, juegos y villancico final (ES/EN)."/>
  <meta name="theme-color" content="#7e22ce"/>

  <style>
    *{margin:0;padding:0;box-sizing:border-box}
    :root{
      --card-w: 980px;
      --scene-h: 420px;
      --radius: 30px;
      --shadow: 0 25px 70px rgba(0,0,0,.4);
    }
    body{
      font-family: "Comic Sans MS", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: radial-gradient(1200px 800px at 20% -10%, #3b82f6 0%, transparent 60%), linear-gradient(135deg,#1e3c72 0%,#2a5298 50%,#7e22ce 100%);
      min-height:100vh;display:flex;justify-content:center;align-items:center;padding:20px;color:#111827
    }
    .book-container{
      background:#fff;border-radius:var(--radius);max-width:var(--card-w);width:100%;
      padding:32px;box-shadow:var(--shadow);position:relative;overflow:hidden;animation:fadeIn .6s ease-in
    }
    @keyframes fadeIn{from{opacity:0;transform:scale(.97)}to{opacity:1;transform:scale(1)}}
    .snow-top{position:absolute;left:0;right:0;top:0;height:28px;background:linear-gradient(180deg,#fff 0%,transparent 100%);border-radius:var(--radius) var(--radius) 0 0}
    .title{text-align:center;color:#dc2626;font-size:2.6em;margin:.2em 0 .1em;text-shadow:3px 3px 6px rgba(0,0,0,.2)}
    .subtitle{text-align:center;color:#15803d;font-size:1.2em;margin-bottom:8px;font-weight:700}
    .panel{display:flex;flex-direction:column;gap:10px;align-items:center;margin:10px 0 18px}
    .row{display:flex;flex-wrap:wrap;gap:10px;justify-content:center;align-items:center}
    .audio-btn{
      background:linear-gradient(135deg,#15803d 0%,#16a34a 100%);color:#fff;border:none;
      padding:12px 20px;font-size:1.02em;border-radius:999px;cursor:pointer;font-weight:bold;
      display:inline-flex;align-items:center;gap:10px;transition:all .2s
    }
    .audio-btn:hover{transform:translateY(-1px) scale(1.03)}
    .toggle{background:linear-gradient(135deg,#475569 0%,#334155 100%)}
    select,input[type=checkbox]{accent-color:#7c3aed}
    .select,.preset{padding:10px 12px;border-radius:12px;border:2px solid #e5e7eb;font-size:.95em}
    label{font-weight:bold;color:#334155;font-size:.95em}

    .page-counter{text-align:center;font-size:1.08em;color:#7c3aed;margin:8px 0 12px;font-weight:800}

    /* ===== Escena “tipo película” ===== */
    .scene{
      height:var(--scene-h);border-radius:22px;position:relative;overflow:hidden;margin:12px 0;
      box-shadow:inset 0 0 60px rgba(0,0,0,.35);border:5px solid #fbbf24;background:#0b1d36
